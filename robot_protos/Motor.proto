syntax = "proto3";

package motor_msg;
import "std.proto";

message LegCmd {
  bool enable = 1;     
  bool direction = 2;   
  float voltage = 3;  
  uint32 state = 4;  
  bool reset_position = 5;
}

message LegState {
  float position = 1;
  uint32 tick_count = 2;    
  bool hall_effect = 3;
}

message ServoCmd {
  uint32 position_bus = 1; 
}

message ServoState {
  uint32 position_encoder = 1; 
}

message MotorCmdStamped {
  std_msg.Header header = 1;
  LegCmd L1 = 2;
  LegCmd L2 = 3;
  LegCmd L3 = 4;
  LegCmd R1 = 5;
  LegCmd R2 = 6;
  LegCmd R3 = 7;

  ServoCmd SL1 = 8;
  ServoCmd SL2 = 9;
  ServoCmd SL3 = 10;
  ServoCmd SR1 = 11;
  ServoCmd SR2 = 12;
  ServoCmd SR3 = 13;
  
  uint32 servo_control_mode = 14; 
}

message MotorStateStamped {
  std_msg.Header header = 1;
  LegState L1 = 2;
  LegState L2 = 3;
  LegState L3 = 4;
  LegState R1 = 5;
  LegState R2 = 6;
  LegState R3 = 7;

  ServoState SL1 = 8;
  ServoState SL2 = 9;
  ServoState SL3 = 10;
  ServoState SR1 = 11;
  ServoState SR2 = 12;
  ServoState SR3 = 13;
  
  uint32 servo_control_mode = 14; 
}
